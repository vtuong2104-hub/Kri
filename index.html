<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SQUIRREL'S PAW - GAME UI</title>
    <link href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Lexend+Deca:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff85a2;
            --success-color: #77dd77;
            --error-color: #ff6961;
            --bg-overlay: rgba(255, 255, 255, 0.2);
        }

        body {
            margin: 0; padding: 0;
            background: url('https://i.supaimg.com/87d30b37-99f0-4392-a4fa-d24c88d713e2.jpg') no-repeat center center fixed;
            background-size: cover;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
            font-family: 'Lexend Deca', sans-serif;
            overflow: hidden;
        }

        /* Hiệu ứng Loading Game */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #2b6df2; z-index: 1000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .loader-bar {
            width: 250px; height: 20px;
            background: rgba(255,255,255,0.2);
            border: 3px solid #fff; border-radius: 15px;
            overflow: hidden; margin-top: 20px;
        }
        .loader-fill {
            width: 0%; height: 100%;
            background: #FFB800;
            transition: width 0.3s;
        }
        .loading-text { color: #fff; font-family: 'Paytone One', sans-serif; font-size: 24px; letter-spacing: 2px; }

        /* Thanh nhập liệu */
        .input-section {
            margin-top: 15px;
            display: flex; gap: 10px;
            padding: 15px;
            background: var(--bg-overlay);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            z-index: 10;
        }
        input {
            border: none; padding: 10px 20px; border-radius: 15px;
            outline: none; font-size: 16px; width: 180px;
        }
        button {
            background: var(--primary-color);
            color: white; border: none; padding: 10px 25px;
            border-radius: 30px; font-weight: bold; cursor: pointer;
            transition: transform 0.1s, background 0.3s;
            box-shadow: 0 4px 0 #d66580;
        }
        button:active { transform: translateY(3px); box-shadow: 0 1px 0 #d66580; }

        /* Khung ảnh đồng bộ màu */
        .image-display {
            margin-top: 70px;
            width: 85%; max-width: 450px;
            background: var(--bg-overlay);
            backdrop-filter: blur(15px);
            border: 4px solid rgba(255,255,255,0.5);
            border-radius: 15px;
            padding: 15px;
            box-sizing: border-box;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            display: none;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .image-display img {
            width: 100%; border-radius: 15px; pointer-events: none;
            display: block; border: 2px solid rgba(255,255,255,0.3);
        }

        /* Popup Thông báo */
        #popup {
            position: fixed; bottom: -100px;
            padding: 15px 30px; border-radius: 15px;
            color: white; font-weight: bold;
            transition: bottom 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 2000; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Chống copy/chuột phải */
        body { -webkit-user-select: none; user-select: none; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="loading-screen">
        <div class="loading-text">LOADING... <span id="percent">0%</span></div>
        <div class="loader-bar"><div class="loader-fill" id="fill"></div></div>
    </div>

    <div class="input-section">
        <input type="text" id="idInput" placeholder="Nhập mã của bạn...">
        <button onclick="checkCode()">XÁC NHẬN</button>
    </div>

    <div class="image-display" id="imgContainer">
        <div id="media-content"></div>
    </div>

    <div id="popup"></div>

    <script>
        // Hiệu ứng Loading giả lập
        window.addEventListener('load', () => {
            let width = 0;
            const fill = document.getElementById('fill');
            const percent = document.getElementById('percent');
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    document.getElementById('loading-screen').style.display = 'none';
                } else {
                    width += Math.floor(Math.random() * 10) + 1;
                    if(width > 100) width = 100;
                    fill.style.width = width + '%';
                    percent.innerText = width + '%';
                }
            }, 100);
        });

        function showPopup(msg, type) {
            const popup = document.getElementById('popup');
            popup.innerText = msg;
            popup.style.background = type === 'success' ? 'var(--success-color)' : 'var(--error-color)';
            popup.style.bottom = '40px';
            setTimeout(() => { popup.style.bottom = '-100px'; }, 3000);
        }

        function checkCode() {
            const val = document.getElementById('idInput').value.trim();
            const container = document.getElementById('imgContainer');
            const content = document.getElementById('media-content');

            if (!val) {
                showPopup("Vui lòng nhập mã!", "error");
                return;
            }

            // Logic xử lý URL ảnh
            let imageUrl = val.includes('pbs.twimg.com') ? val : 
                           (val.length > 10 ? `https://pbs.twimg.com/media/${val}?format=jpg&name=orig` : "https://bom.so/" + val);

            const img = new Image();
            img.onload = function() {
                content.innerHTML = `<img src="${imageUrl}">`;
                container.style.display = 'block';
                showPopup("mã hợp lệ!", "success");
            };
            img.onerror = function() {
                showPopup("Mã không hợp lệ hoặc lỗi kết nối!", "error");
                container.style.display = 'none';
            };
            img.src = imageUrl;
        }

        // Bảo vệ nội dung
        document.onkeydown = (e) => {
            if (e.ctrlKey && ['u', 's', 'c', 'j'].includes(e.key.toLowerCase())) return false;
            if (e.keyCode === 123) return false; // F12
        };
    </script>
</body>
</html>
